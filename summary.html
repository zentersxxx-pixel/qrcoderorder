<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<header>
    <h1>üìã ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</h1>
    <p>‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏•‡∏∞‡∏¢‡∏≠‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ä‡∏≥‡∏£‡∏∞</p>
</header>
<nav>
  <a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a> |
  <a href="cart.html">‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</a> |
  <a href="summary.html">‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</a> |
</nav>

<table id="cart-table">
    <thead>
        <tr>
            <th>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</th>
            <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
            <th>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô</th>
            <th>‡∏£‡∏ß‡∏°</th>
        </tr>
    </thead>
    <tbody id="cart-body"></tbody>
</table>

<h3>üí∞ ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="total-price">0.00</span> ‡∏ö‡∏≤‡∏ó</h3>

<div class="cart-actions">
    <button class="btn-back" onclick="history.back()">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç</button>
    <button class="btn-checkout" onclick="confirmOrder()">‚úÖ ‡∏¢‡∏∑‡∏ô‡∏¢‡∏±‡∏ô‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</button>
</div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || {};

function renderSummary() {
    const body = document.getElementById("cart-body");
    const totalEl = document.getElementById("total-price");

    body.innerHTML = "";
    let total = 0;

    if (Object.keys(cart).length === 0) {
        body.innerHTML = `
            <tr>
                <td colspan="4">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏±‡πà‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£</td>
            </tr>
        `;
        return;
    }

    for (let id in cart) {
        const item = cart[id];
        const sum = item.price * item.qty;
        total += sum;

        body.innerHTML += `
            <tr>
                <td>${item.name}</td>
                <td>${item.price.toFixed(2)}</td>
                <td>${item.qty}</td>
                <td>${sum.toFixed(2)}</td>
            </tr>
        `;
    }

    totalEl.innerText = total.toFixed(2);
}

function confirmOrder() {
    let orders = JSON.parse(localStorage.getItem("orders")) || [];

    orders.push({
    id: Date.now(),
    table: params.get("table") || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÇ‡∏ï‡πä‡∏∞",
    items: cart,
    status: "‡∏£‡∏≠‡∏£‡πâ‡∏≤‡∏ô‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå"
});

    

    localStorage.setItem("orders", JSON.stringify(orders));

    alert("‚úÖ ‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß");
    localStorage.removeItem("cart");
    window.location.href = "index.html";
}


renderSummary();


const params = new URLSearchParams(window.location.search);
document.getElementById("table-number").innerText =
    params.get("table") || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡πÇ‡∏ï‡πä‡∏∞";








</script>

</body>
</html>
